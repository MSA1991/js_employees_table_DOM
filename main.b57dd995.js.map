{"version":3,"sources":["scripts/main.js"],"names":["list","document","querySelector","sortReverse","head","children","headList","querySelectorAll","sortList","arr","i","sort","a","b","itemA","stringOrNumber","textContent","itemB","localeCompare","append","string","DIGITS","str","num","split","map","char","includes","length","addEventListener","e","item","target","indexItem","indexOf","active","closest","classList","toggle","el","remove","body","insertAdjacentHTML","form","getSalary","salary","toLocaleString","pushNotification","title","description","type","messege","createElement","dataset","qa","innerHTML","add","setTimeout","preventDefault","data","FormData","values","Object","fromEntries","name","age","isFieldsFilled","key","position","office","reset","itemValue","parentElement","field","firstElementChild","cloneNode","value","focus","evnt","code","blur"],"mappings":";AAAA,aAkPC,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAhPD,IAAMA,EAAOC,SAASC,cAAc,SAChCC,GAAc,EAEZC,EAAOH,SAASC,cAAc,SAASG,SAAS,GAChDC,EAAeF,EAAAA,EAAKG,iBAAiB,OAY3C,SAASC,EAASC,EAAKC,GAChBP,GAcHA,GAAc,EAEdM,EAAIE,KAAK,SAACC,EAAGC,GACLC,IAAAA,EAAQC,EAAeH,EAAEP,SAASK,GAAGM,aACrCC,EAAQF,EAAeF,EAAER,SAASK,GAAGM,aAEpC,MAAiB,iBAAVF,EACVG,EAAQH,EACRG,EAAMC,cAAcJ,KAG1Bd,EAAKmB,OAALnB,MAAAA,EAAeS,EAAAA,MAxBfN,GAAc,EAEdM,EAAIE,KAAK,SAACC,EAAGC,GACLC,IAAAA,EAAQC,EAAeH,EAAEP,SAASK,GAAGM,aACrCC,EAAQF,EAAeF,EAAER,SAASK,GAAGM,aAEpC,MAAiB,iBAAVF,EACVA,EAAQG,EACRH,EAAMI,cAAcD,KAG1BjB,EAAKmB,OAALnB,MAAAA,EAAeS,EAAAA,KAiBnB,SAASM,EAAeK,GAChBC,IACFC,EAAM,GACNC,EAAM,GAQHD,OANPF,EAAOI,MAAM,IAAIC,IAAI,SAAAC,GAJN,aAKNC,SAASD,GACZH,GAAOG,EACPJ,GAAOI,IAGNJ,EAAIM,OAASL,EAAIK,OAASN,GAAOC,EAjD1CnB,EAAKyB,iBAAiB,QAAS,SAACC,GACxBC,IAAAA,EAAOD,EAAEE,OACTC,EAAY3B,EAAS4B,QAAQH,GAGnCvB,EAFmBR,EAAAA,EAAKO,iBAAiB,OAExB0B,KAiDnBjC,EAAK6B,iBAAiB,QAAS,SAACC,GACxBK,IAAAA,EAAalC,EAAAA,SAASM,iBAAiB,YAEhCuB,EAAEE,OAAOI,QAAQ,MAEzBC,UAAUC,OAAO,UAElBH,EAAOP,OAAS,GAClBO,EAAOV,IAAI,SAACc,GAAOA,OAAAA,EAAGF,UAAUG,OAAO,cAM3CvC,SAASwC,KAAKC,mBAAmB,YAwCjC,o2BAEA,IAAMC,EAAO1C,SAASC,cAAc,sBAkDpC,SAAS0C,EAAUC,GACN,MAAA,IAAA,SAAEA,GAAQC,eAAe,UAwDtC,SAASC,EAAiBC,EAAOC,EAAaC,GACtCC,IAAAA,EAAUlD,SAASmD,cAAc,OAEvCD,EAAQE,QAAQC,GAAK,eAErBH,EAAQI,UACcP,2BAAAA,OAAAA,EACfC,kBAAAA,OAAAA,EAFP,YAKAE,EAAQd,UAAUmB,IAAI,eAAgBN,GAEtCjD,SAASwC,KAAKtB,OAAOgC,GAErBM,WAAW,WAAMN,OAAAA,EAAQX,UAAU,KAvHrCG,EAAKd,iBAAiB,SAAU,SAACC,GAC/BA,EAAE4B,iBAEIC,IAAAA,EAAO,IAAIC,SAASjB,GACpBkB,EAASC,OAAOC,YAAYJ,GAE9BE,GAAAA,EAAOG,KAAKpC,OAAS,EACvBmB,EAAiB,QAAS,2BAA4B,cAKpD,IAACc,EAAOI,IAAM,KAAOJ,EAAOI,IAAM,GACpClB,EAAiB,QAAS,2BAA4B,aADpD,CAMAmB,IAAAA,GAAiB,EAEhB,IAAA,IAAMC,KAAON,EACZA,GAAgB,KAAhBA,EAAOM,GAAa,CACtBD,GAAiB,EACjB,MAIAA,EACFnB,EAAiB,QAAS,yBAA0B,UAKtDA,EAAiB,UAAW,mBAAoB,WAEhD/C,EAAK0C,mBAAmB,YAEdmB,yBAAAA,OAAAA,EAAOG,KACPH,qBAAAA,OAAAA,EAAOO,SACPP,qBAAAA,OAAAA,EAAOQ,OACPR,qBAAAA,OAAAA,EAAOI,IACPrB,qBAAAA,OAAAA,EAAUiB,EAAOhB,QAN3B,yBAUAf,EAAEE,OAAOsC,YASXtE,EAAK6B,iBAAiB,WAAY,SAACC,GAC3BC,IAAAA,EAAOD,EAAEE,OACTuC,EAAYxC,EAAKf,YACjBiB,EAAY,EAAIF,EAAKyC,cAAcnE,UAAU6B,QAAQH,GACrD0C,EAAQ9B,EAAKpC,iBAAiB,SAAS0B,GAC1CyC,kBAAkBC,WAAU,GAE/BF,EAAMpC,UAAUmB,IAAI,cAEK,WAArBiB,EAAMpB,QAAQC,KAChBmB,EAAMG,MAAQ,IAGhB7C,EAAKwB,UAAY,GACjBxB,EAAKZ,OAAOsD,GAEZA,EAAMI,QAENJ,EAAM5C,iBAAiB,OAAQ,WACN,IAAvB4C,EAAMG,MAAMhD,OACRG,EAAKwB,UAAYgB,EACjBxC,EAAKwB,UAAYkB,EAAMG,MAER,SAAfH,EAAMT,MACLS,EAAMG,MAAMhD,OAAS,GACrB6C,EAAMG,MAAMhD,OAAS,IACxBmB,EAAiB,QAAS,2BAA4B,SACtDhB,EAAKwB,UAAYgB,GAGA,QAAfE,EAAMT,QACHS,EAAMG,MAAQ,KAAOH,EAAMG,MAAQ,KACrCH,EAAMG,MAAMhD,OAAS,IACxBmB,EAAiB,QAAS,2BAA4B,SACtDhB,EAAKwB,UAAYgB,GAGM,WAArBE,EAAMpB,QAAQC,IAAmBmB,EAAMG,MAAMhD,OAAS,IACxDG,EAAKwB,UAAYX,EAAU6B,EAAMG,UAIrCH,EAAM5C,iBAAiB,UAAW,SAACiD,GACf,UAAdA,EAAKC,MACPN,EAAMO","file":"main.b57dd995.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst list = document.querySelector('tbody');\nlet sortReverse = false;\n\nconst head = document.querySelector('thead').children[0];\nconst headList = [...head.querySelectorAll('th')];\n\n// -----------------SORT LIST------------------------\n\nhead.addEventListener('click', (e) => {\n  const item = e.target;\n  const indexItem = headList.indexOf(item);\n  const person = [...list.querySelectorAll('tr')];\n\n  sortList(person, indexItem);\n});\n\nfunction sortList(arr, i) {\n  if (!sortReverse) {\n    sortReverse = true;\n\n    arr.sort((a, b) => {\n      const itemA = stringOrNumber(a.children[i].textContent);\n      const itemB = stringOrNumber(b.children[i].textContent);\n\n      return typeof itemA === 'number'\n        ? itemA - itemB\n        : itemA.localeCompare(itemB);\n    });\n\n    list.append(...arr);\n  } else {\n    sortReverse = false;\n\n    arr.sort((a, b) => {\n      const itemA = stringOrNumber(a.children[i].textContent);\n      const itemB = stringOrNumber(b.children[i].textContent);\n\n      return typeof itemA === 'number'\n        ? itemB - itemA\n        : itemB.localeCompare(itemA);\n    });\n\n    list.append(...arr);\n  }\n}\n\nfunction stringOrNumber(string) {\n  const DIGITS = '0123456789';\n  let str = '';\n  let num = '';\n\n  string.split('').map(char => {\n    DIGITS.includes(char)\n      ? num += char\n      : str += char;\n  });\n\n  return str.length > num.length ? str : +num;\n}\n\n// ------------------ACTIVE ROW------------------\n\nlist.addEventListener('click', (e) => {\n  const active = [...document.querySelectorAll('.active')];\n\n  const item = e.target.closest('tr');\n\n  item.classList.toggle('active');\n\n  if (active.length > 0) {\n    active.map((el) => el.classList.remove('active'));\n  }\n});\n\n// -------------------CREATING FORM-----------------\n\ndocument.body.insertAdjacentHTML('beforeend', `\n  <form action=\"\" class='new-employee-form'>\n    <label>\n      Name:\n      <input name=\"name\" type=\"text\" data-qa=\"name\">\n    </label>\n\n    <label>\n      Position:\n      <input name=\"position\" type=\"text\" data-qa=\"position\">\n    </label>\n\n    <label>\n      Office:\n      <select name=\"office\" data-qa=\"office\">\n        <option>Tokyo</option>\n        <option>Singapore</option>\n        <option>London</option>\n        <option>New York</option>\n        <option>Edinburgh</option>\n        <option>San Francisco</option>\n      </select>\n    </label>\n\n    <label>\n      Age:\n      <input name=\"age\" type=\"number\" data-qa=\"age\" min=\"0\">\n    </label>\n\n    <label>\n      Salary:\n      <input name=\"salary\" type=\"number\" data-qa=\"salary\" min=\"0\">\n    </label>\n\n    <button type=\"submit\">\n      Save to table\n    </button>\n  </form>\n`);\n\n// -------------ADDING A NEW PERSON------------------\n\nconst form = document.querySelector('.new-employee-form');\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const values = Object.fromEntries(data);\n\n  if (values.name.length < 4) {\n    pushNotification('error', 'Short name. Min length 4', 'error');\n\n    return;\n  };\n\n  if (+values.age < 18 || +values.age > 90) {\n    pushNotification('error', 'Invalid age. Range 18-80', 'error');\n\n    return;\n  }\n\n  let isFieldsFilled = false;\n\n  for (const key in values) {\n    if (values[key] === '') {\n      isFieldsFilled = true;\n      break;\n    }\n  }\n\n  if (isFieldsFilled) {\n    pushNotification('error', 'Fill in all the fields', 'error');\n\n    return;\n  }\n\n  pushNotification('success', 'New person added', 'success');\n\n  list.insertAdjacentHTML('beforeend', `\n    <tr>\n      <td>${values.name}</td>\n      <td>${values.position}</td>\n      <td>${values.office}</td>\n      <td>${values.age}</td>\n      <td>${getSalary(values.salary)}</td>\n    </tr>\n  `);\n\n  e.target.reset();\n});\n\nfunction getSalary(salary) {\n  return `$${(+salary).toLocaleString('en-US')}`;\n}\n\n// ---------------CELL EDITING-------------\n\nlist.addEventListener('dblclick', (e) => {\n  const item = e.target;\n  const itemValue = item.textContent;\n  const indexItem = [...item.parentElement.children].indexOf(item);\n  const field = form.querySelectorAll('label')[indexItem]\n    .firstElementChild.cloneNode(true);\n\n  field.classList.add('cell-input');\n\n  if (field.dataset.qa !== 'office') {\n    field.value = '';\n  }\n\n  item.innerHTML = '';\n  item.append(field);\n\n  field.focus();\n\n  field.addEventListener('blur', () => {\n    field.value.length === 0\n      ? item.innerHTML = itemValue\n      : item.innerHTML = field.value;\n\n    if (field.name === 'name'\n      && field.value.length < 4\n      && field.value.length > 0) {\n      pushNotification('error', 'Short name. Min length 4', 'error');\n      item.innerHTML = itemValue;\n    };\n\n    if (field.name === 'age'\n      && (+field.value < 18 || +field.value > 90)\n      && field.value.length > 0) {\n      pushNotification('error', 'Invalid age. Range 18-80', 'error');\n      item.innerHTML = itemValue;\n    }\n\n    if (field.dataset.qa === 'salary' && field.value.length > 0) {\n      item.innerHTML = getSalary(field.value);\n    }\n  });\n\n  field.addEventListener('keydown', (evnt) => {\n    if (evnt.code === 'Enter') {\n      field.blur();\n    }\n  });\n});\n\n// ----------------NOTIFICATION-----------------\n\nfunction pushNotification(title, description, type) {\n  const messege = document.createElement('div');\n\n  messege.dataset.qa = 'notification';\n\n  messege.innerHTML = `\n    <h2 class=\"title\">${title}</h2>\n    <p>${description}</p>\n  `;\n\n  messege.classList.add('notification', type);\n\n  document.body.append(messege);\n\n  setTimeout(() => messege.remove(), 2000);\n};\n"]}